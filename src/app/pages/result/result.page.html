<app-custom-header></app-custom-header>

<ion-content class="ion-padding">

  <!--   <ion-button expand="block" *ngFor="let topicIndex of topicIndizes; let i = index" (click)="buttonClicked(i)">

    <div id="Ã¼berschrift">
      <p>{{this.data.scheine[this.schein].Thema[topicIndex].themaName}}</p>
    </div>

    <div id="subtitle" *ngIf="!this.clicked[i]; else elseBlock">
      <p>True: {{this.topics[i].thema[0].trueCount}}<br>
        False: {{this.topics[i].thema[0].falseCount}}</p>
    </div>
    <ng-template #elseBlock>
      <p *ngFor="let wrongQuestion of wrongQuestionsArray; let questionIndex = index">
        {{this.wrongQuestionsJSON.thema[i].question[questionIndex].question}}
        <br>
      </p>
    </ng-template>

  </ion-button>
 -->


  <ion-item class="ion-margin-top" *ngFor="let topicIndex of topicIndizes; let i = index" (click)="buttonClicked(i)">
    <ion-list style="width: 100%;">
      <ion-grid>
        <ion-row>
          <ion-col>
            <p class="underlined ion-text-wrap title">{{this.data.scheine[this.schein].Thema[topicIndex].themaName}}</p>
            <div id="subtitle" *ngIf="!this.clicked[i]; else elseBlock">
              <p>True: {{this.topics[i].thema[0].trueCount}}<br>
                False: {{this.topics[i].thema[0].falseCount}}</p>
            </div>
          </ion-col>
          <ion-col size="auto">
            <div class="progress-holder">
              <div class="left-block"></div>
              <div class="right-block" [ngStyle]="applyStyles(i)"></div>
              <div class="mask"><p>{{this.percentAusgabe[i]}}</p></div>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>

      
      
      <ng-template #elseBlock>
        <div *ngFor="let wrongQuestion of wrongQuestionsArray; let questionIndex = index">
          <strong class="underlin">FRAGE {{this.wrongQuestionsJSON.thema[i].question[questionIndex].id}}</strong>
          <hr>
          <p>{{this.wrongQuestionsJSON.thema[i].question[questionIndex].question}}</p>

          <br>
          <strong>
            Richtig:
          </strong>
          <ion-label class="ion-text-wrap" *ngFor="let correctAnswer of this.wrongQuestionsJSON.thema[i].question[questionIndex].trueAnswers">
            {{correctAnswer}}
          </ion-label>

          <p><strong>Falsch:</strong></p>
          <p *ngFor="let wrongAnswer of this.wrongQuestionsJSON.thema[i].question[questionIndex].wrongAnswers">
            {{wrongAnswer}}
          </p>
        </div>
      </ng-template>
    </ion-list>
  </ion-item>

</ion-content>

<app-custom-footer></app-custom-footer>
